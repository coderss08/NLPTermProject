foo *foos = malloc(n * sizeof(*foos));for (int i = 0; i &lt; n; i++)
  init_foo(&amp;foos[i]);
